# Problem 03: Count image files that has been accessed by clients

## Requirements
- python3
- hadoop
- mrjob

## Solution Implementation
```python
from mrjob.job import MRJob
import re
class MRImageCount(MRJob):
	def mapper(self, _, line):
		match_ext = {"png", "jpg", "gif"}
		request = re.search(r"GET[A-Za-z_\/. 0-9]*HTTP",line)
		if request:
			for i in match_ext:
				if i in request.group().lower():
					yield(i, 1)
	def reducer(self, ext, occurances):
		yield(ext, sum(occurances))
if __name__ == '__main__':
	MRImageCount.run()
```

## How to Run Solution
To run the fractions operation in python program, grab a copy of the current directory
from GitHub. After that, get the latest version of `python` and install `mrjob` using following command
```console
pip install mrjob
```
Now, all you have to do is run the following command from the command line:
```console
python ImageCount.py input/web_access_log.txt -r hadoop > output/image_count.txt
```

## Output
The output file generated by hadoop is located in output directory.

|  image  |   count   |
|---------|-----------|
|  "gif"  |   317     |
|  "jpg"  |   14936   |
|  "png"  |   1548    |
